"use strict";(globalThis["webpackChunkfront"]=globalThis["webpackChunkfront"]||[]).push([[96],{5096:(a,t,o)=>{o.r(t),o.d(t,{default:()=>O});var s=o(9835),e=o(6970);const i={class:"row q-pa-xs"},n={class:"row"},l={class:"col-7 q-pa-md"},c={class:"text-h6"},d={class:"text-subtitle2"},r={class:"col-12"},h={class:"row"},u={class:"col-12 col-sm-4"},p={class:"col-12 col-sm-4"},m={class:"col-12 col-sm-4 text-right"},g={class:"col-12"};function f(a,t,o,f,b,_){const w=(0,s.up)("q-icon"),x=(0,s.up)("q-card-section"),v=(0,s.up)("q-card"),q=(0,s.up)("q-input"),F=(0,s.up)("q-btn"),C=(0,s.up)("apexchart"),y=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(y,null,{default:(0,s.w5)((()=>[(0,s._)("div",i,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(b.datos,(a=>((0,s.wg)(),(0,s.iD)("div",{class:"col-12 col-sm-3",key:a.id},[(0,s.Wm)(v,{class:"q-ma-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{class:"q-pa-none"},{default:(0,s.w5)((()=>[(0,s._)("div",n,[(0,s._)("div",{class:(0,e.C_)(`col-5 q-pr-lg bg-${a.color} q-pa-lg flex flex-center`)},[(0,s.Wm)(w,{name:`${a.icon}`,size:"80px",color:"white"},null,8,["name"])],2),(0,s._)("div",l,[(0,s._)("div",c,(0,e.zw)(a.nombre),1),(0,s._)("div",d,"Cantidad ( "+(0,e.zw)(a.cantidad)+" )",1)])])])),_:2},1024)])),_:2},1024)])))),128)),(0,s._)("div",r,[(0,s.Wm)(v,null,{default:(0,s.w5)((()=>[(0,s.Wm)(x,{class:"q-pa-xs"},{default:(0,s.w5)((()=>[(0,s._)("div",h,[(0,s._)("div",u,[(0,s.Wm)(q,{modelValue:b.fechaIni,"onUpdate:modelValue":t[0]||(t[0]=a=>b.fechaIni=a),label:"Fecha Inicial",type:"date",dense:"",outlined:""},null,8,["modelValue"])]),(0,s._)("div",p,[(0,s.Wm)(q,{modelValue:b.fechaFin,"onUpdate:modelValue":t[1]||(t[1]=a=>b.fechaFin=a),label:"Fecha Final",type:"date",dense:"",outlined:""},null,8,["modelValue"])]),(0,s._)("div",m,[(0,s.Wm)(F,{label:"Buscar",color:"primary",onClick:_.tornaguiasGet,"no-caps":"",icon:"search",loading:b.loading},null,8,["onClick","loading"])]),(0,s._)("div",g,[(0,s.Wm)(C,{type:"bar",height:"350",options:b.chartOptions,series:b.series},null,8,["options","series"])])])])),_:1})])),_:1})])])])),_:1})}o(9665);var b=o(3878),_=o.n(b);const w={name:"IndexPage",data(){return{series:[{name:"Cash Flow",data:[]}],chartOptions:{chart:{type:"bar",height:350},plotOptions:{bar:{colors:{ranges:[{from:-100,to:-46,color:"#F15B46"},{from:-45,to:0,color:"#FEB019"}]},columnWidth:"80%"}},dataLabels:{enabled:!1},yaxis:{title:{text:"Growth"},labels:{formatter:function(a){return a.toFixed(0)+""}}},xaxis:{type:"datetime",categories:[],labels:{rotate:-90}}},fechaIni:_()().startOf("month").subtract(1,"month").format("YYYY-MM-DD"),fechaFin:_()().endOf("month").subtract(1,"month").format("YYYY-MM-DD"),loading:!1,tornaguias:[],datos:[{id:1,nombre:"Tornaguias",cantidad:0,color:"info",icon:"o_description"},{id:2,nombre:"Trasportes",cantidad:0,color:"warning",icon:"o_directions_bus_filled"},{id:3,nombre:"Contratistas",cantidad:0,color:"positive",icon:"work_outline"},{id:4,nombre:"Empresas",cantidad:0,color:"negative",icon:"o_business"}]}},created(){this.loading=!0,this.$api.get("totales").then((a=>{this.datos[0].cantidad=a.data.totalTornaguias,this.datos[1].cantidad=a.data.totalTrasportes,this.datos[2].cantidad=a.data.totalContratistas,this.datos[3].cantidad=a.data.totalEmpresas})).finally((()=>{this.loading=!1})),this.tornaguiasGet()},methods:{tornaguiasGet(){this.loading=!0,this.$api.get("tornaguiasGet",{params:{fechaIni:this.fechaIni,fechaFin:this.fechaFin}}).then((a=>{console.log(a.data);const t=[],o=[];a.data.forEach((a=>{t.push(a.total),o.push(a.fecha)})),this.series[0].data=t,this.chartOptions={...this.chartOptions,xaxis:{...this.chartOptions.xaxis,categories:o}}})).finally((()=>{this.loading=!1}))}}};var x=o(1639),v=o(9885),q=o(4458),F=o(3190),C=o(2857),y=o(6611),W=o(8879),I=o(9984),Y=o.n(I);const k=(0,x.Z)(w,[["render",f]]),O=k;Y()(w,"components",{QPage:v.Z,QCard:q.Z,QCardSection:F.Z,QIcon:C.Z,QInput:y.Z,QBtn:W.Z})}}]);